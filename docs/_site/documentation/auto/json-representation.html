







<!doctype html>
<html class="has-navbar-fixed-top" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
            <link type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20100%20100%22%3E%3Ctext%20y%3D%22.9em%22%20font-size%3D%2290%22%3E%F0%9F%9A%A8%3C%2Ftext%3E%3C%2Fsvg%3E" rel="icon" />
        

        <meta name="referrer" content="no-referrer-when-downgrade">

        <link rel="stylesheet" href="/style.css">
        <link rel="preconnect" href="/" crossorigin="crossorigin">
        <title>JSON representation</title>
        <script src="/assets/nacara/js/navbar.js" defer="defer"></script>
        <link href="https://cdn.jsdelivr.net/gh/PrismJS/prism-themes@447479fc7b2be2051fe27e561aceed7cc87a589f/themes/prism-one-light.css" rel="stylesheet">
    </head>
    <body class="page--documentation_auto_json-representation layout--nacara_layouts_docs has-footer">

        
            

<nav class="navbar is-fixed-top is-spaced" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item title is-4" href="https://mangelmaxime.github.io">
            Eleventy Nacara
        </a>
    </div>
    <div class="navbar-menu">
        <div class="navbar-start">
            
                
                
                    
                    <a class="navbar-item
                        is-hidden-mobile" href="/documentation/concept/introduction.html">
                        Docs
                    </a>
                

            
                
                
                    
                    <a class="navbar-item
                        is-hidden-mobile" href="changelog/">
                        Changelog
                    </a>
                

            
                
                
                    
                    <a class="navbar-item
                        is-hidden-mobile" href="https://gitter.im/fable-compiler/Fable">
                        Support
                    </a>
                

            
                
                
                    
                    <a class="navbar-item
                        is-hidden-mobile" href="https://www.patreon.com/MangelMaxime">
                        Donate
                    </a>
                

            

            <div class="navbar-item navbar-burger-dots is-hidden-tablet">
                <svg height="4" stroke="none" viewbox="0 0 22 4" width="22">
                    <circle cx="2" cy="2" r="2"></circle>
                    <circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle>
                    <circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle>
                </svg>
            </div>
        </div>
        <div class="navbar-end is-hidden-mobile">
            
                <a class="navbar-item" href="https://github.com/MangelMaxime/Nacara">
                    <span class="icon">
                        <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
                    </span>
                </a>
            
                <a class="navbar-item" href="https://twitter.com/MangelMaxime">
                    <span class="icon">
                        <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"></path></svg>
                    </span>
                </a>
            
        </div>
    </div>
    <div class="nacara-navbar-menu">
        
        
            
            
                
                
                    <a class="nacara-navbar-menu-item" href="/documentation/concept/introduction.html">
                        <span>Docs</span>
                    </a>
                
            
        
            
            
                
                
                    <a class="nacara-navbar-menu-item" href="changelog/">
                        <span>Changelog</span>
                    </a>
                
            
        
            
            
                
                
                    <a class="nacara-navbar-menu-item" href="https://gitter.im/fable-compiler/Fable">
                        <span>Support</span>
                    </a>
                
            
        
            
            
                
                
                    <a class="nacara-navbar-menu-item" href="https://www.patreon.com/MangelMaxime">
                        <span>Donate</span>
                    </a>
                
            
        
        
        
            <a class="nacara-navbar-menu-item" href="https://github.com/MangelMaxime/Nacara">
                <span>Github</span>
            </a>
        
            <a class="nacara-navbar-menu-item" href="https://twitter.com/MangelMaxime">
                <span>Twitter</span>
            </a>
        
    </div>
</nav>
<div class="grey-overlay"></div>

        

        
    <div class="page-content nacara-content">
        <div class="container">

            <div class="columns is-gapless is-mobile">
                <div class="column is-menu-column is-3-desktop is-hidden-touch">
                    <div class="menu-container"><aside class="menu"><p class="menu-label">Concept</p><ul class="menu-list"><li><a href="//documentation/concept/introduction.html" class="">Introduction</a></li><li><a href="//documentation/concept/decoder.html" class="">Decoder</a></li><li><a href="//documentation/concept/encoder.html" class="">Encoder</a></li><li><a href="//documentation/concept/fable-and-dotnet-support.html" class="">Fable & .NET Support</a></li></ul><p class="menu-label">Manual API</p><ul class="menu-list"><li><a href="//documentation/manual/introduction.html" class="">Introduction</a></li><li><a href="//documentation/manual/convention.html" class="">Convention</a></li><li><a href="//documentation/manual/composition.html" class="">Composition</a></li><li><a href="//documentation/manual/override-defaults.html" class="">Override defaults</a></li><li><a href="//documentation/manual/json-representation.html" class="">JSON representation</a></li></ul><p class="menu-label">Auto API</p><ul class="menu-list"><li><a href="//documentation/auto/introduction.html" class="">Introduction</a></li><li><a href="//documentation/auto/extra-coders.html" class="">Extra coders</a></li><li><a href="//documentation/auto/caching.html" class="">Cache</a></li><li><a href="//documentation/auto/json-representation.html" class="is-active">JSON representation</a></li><li><ul class="table-of-content"><li data-toc-rank="2"><a href="#Configuration" data-toc-element="true">Configuration </a></li><li data-toc-rank="3"><a href="#Case-strategy" data-toc-element="true">Case strategy </a></li><li data-toc-rank="3"><a href="#Skip-null-fields" data-toc-element="true">Skip null fields </a></li><li data-toc-rank="3"><a href="#Extra-coders" data-toc-element="true">Extra coders </a></li><li data-toc-rank="2"><a href="#Primitives" data-toc-element="true">Primitives </a></li><li data-toc-rank="2"><a href="#Records" data-toc-element="true">Records </a></li><li data-toc-rank="2"><a href="#Tuple-with-no-arguments" data-toc-element="true">Tuple with no arguments </a></li><li data-toc-rank="2"><a href="#Tuple-with-arguments" data-toc-element="true">Tuple with arguments </a></li><li data-toc-rank="2"><a href="#Option-type" data-toc-element="true">Option type </a></li><li data-toc-rank="2"><a href="#Class" data-toc-element="true">Class </a></li></ul></li></ul><p class="menu-label">Advanced</p><ul class="menu-list"><li><a href="//documentation/advanced/introduction.html" class="">Introduction</a></li><li><a href="//documentation/advanced/unkown-fields.html" class="">Unkown fields</a></li></ul></aside></div>


<script src="/assets/nacara/js/menu.js?hash=f7e4f62449" defer="defer" type="module"></script>

                </div>
                <div class="column is-9-desktop is-full-touch">
                    <section class="section">
                        <div class="content">
                            <header class="page-header">
                                <div class="columns is-vcentered is-hidden-touch">
                                    <div class="column">
                                        <nav class="breadcrumb"><ul><li class="is-active"><a>Auto API</a></li><li class="is-active"><a>JSON representation</a></li></ul></nav>
                                    </div>
                                    <div class="column is-narrow">
                                        <a class="button is-ghost" target="_blank" href="https://github.com/MangelMaxime/eleventy-layout-nacara/edit/main/docs/documentation/auto/json-representation.fsx">
                                                Edit
                                            </a>
                                    </div>
                                </div>
                                <h1 class="title is-1">
                                    JSON representation
                                </h1>
                            </header>

                            <h2 id="Configuration" tabindex="-1">Configuration <a class="header-anchor" href="#Configuration">#</a></h2>
<p>When using auto API, you have a very limited control over the JSON representation.</p>
<h3 id="Case-strategy" tabindex="-1">Case strategy <a class="header-anchor" href="#Case-strategy">#</a></h3>
<p>You can decide which case strategy you want to use:</p>
<ul>
<li>PascalCase (default)</li>
<li>CamelCase</li>
<li>SnakeCase</li>
</ul>
<pre class="language-fs"><code class="language-fs"><span class="token keyword">type</span> <span class="token class-name">Device</span> <span class="token operator">=</span>
    <span class="token punctuation">{</span>
        EquipmentId<span class="token punctuation">:</span> <span class="token class-name">int</span>
        SerialNumber<span class="token punctuation">:</span> <span class="token class-name">string</span>
    <span class="token punctuation">}</span>

<span class="token keyword">let</span> myDevice <span class="token operator">=</span>
    <span class="token punctuation">{</span>
        EquipmentId <span class="token operator">=</span> <span class="token number">5862</span>
        SerialNumber <span class="token operator">=</span> <span class="token string">"1452-48-4298"</span>
    <span class="token punctuation">}</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> myDevice<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// {</span>
<span class="token comment">//     "EquipmentId": "5862",</span>
<span class="token comment">//     "SerialNumber": "1452-48-4298"</span>
<span class="token comment">// }</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> myDevice<span class="token punctuation">,</span> caseStrategy <span class="token operator">=</span> CaseStrategy<span class="token punctuation">.</span>CamelCase<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// {</span>
<span class="token comment">//     "equipmentId": "5862",</span>
<span class="token comment">//     "serialNumber": "1452-48-4298"</span>
<span class="token comment">// }</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> myDevice<span class="token punctuation">,</span> caseStrategy <span class="token operator">=</span> CaseStrategy<span class="token punctuation">.</span>SnakeCase<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// {</span>
<span class="token comment">//     "equipment_id": "5862",</span>
<span class="token comment">//     "serial_number": "1452-48-4298"</span>
<span class="token comment">// }</span></code></pre>
<p>When decoding the case strategy is also respected.</p>
<pre class="language-fs"><code class="language-fs">Decode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>fromString<span class="token operator">&lt;</span>Device<span class="token operator">></span> <span class="token punctuation">(</span>
    <span class="token string">"""
{
    "equipment_id": "5862",
    "serial_number": "1452-48-4298"
}
    """</span><span class="token punctuation">,</span>
    caseStrategy <span class="token operator">=</span> CaseStrategy<span class="token punctuation">.</span>SnakeCase
<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// Ok { EquipmentId = 5862; SerialNumber = "1452-48-4298" }</span>

Decode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>fromString<span class="token operator">&lt;</span>Device<span class="token operator">></span> <span class="token punctuation">(</span>
    <span class="token string">"""
{
    "EquipmentId": "5862",
    "SerialNumber": "1452-48-4298"
}
    """</span><span class="token punctuation">,</span>
    caseStrategy <span class="token operator">=</span> CaseStrategy<span class="token punctuation">.</span>SnakeCase
<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// Error</span>
<span class="token comment">// Error at: `$.serial_number`</span>
<span class="token comment">// Expecting a string but instead got: undefined</span></code></pre>
<h3 id="Skip-null-fields" tabindex="-1">Skip null fields <a class="header-anchor" href="#Skip-null-fields">#</a></h3>
<p>By default, optional fields are not included in the JSON representation.</p>
<pre class="language-fs"><code class="language-fs"><span class="token keyword">type</span> <span class="token class-name">Response</span><span class="token operator">&lt;</span>'T<span class="token operator">></span> <span class="token operator">=</span>
    <span class="token punctuation">{</span>
        Code<span class="token punctuation">:</span> <span class="token class-name">int</span>
        Data<span class="token punctuation">:</span> 'T option
    <span class="token punctuation">}</span>

<span class="token keyword">let</span> response <span class="token operator">=</span>
    <span class="token punctuation">{</span>
        Code <span class="token operator">=</span> <span class="token number">200</span>
        Data <span class="token operator">=</span> None
    <span class="token punctuation">}</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// {</span>
<span class="token comment">//     "Code": "200"</span>
<span class="token comment">// }</span></code></pre>
<p>If you want to include the <code>Data</code> field, you need to set <code>skipNullField = false</code></p>
<pre class="language-fs"><code class="language-fs">Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> response<span class="token punctuation">,</span> skipNullField <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// {</span>
<span class="token comment">//     "Code": "200",</span>
<span class="token comment">//     "Data": null</span>
<span class="token comment">// }</span></code></pre>
<h3 id="Extra-coders" tabindex="-1">Extra coders <a class="header-anchor" href="#Extra-coders">#</a></h3>
<p>The auto APIs, accept an <code>ExtraCoders</code> objects which is used to extends or override
the supported types.</p>
<p>In order to minimize the impact on the bundle size, Thoth.Json don't include
out of the box support for the following types:</p>
<ul>
<li><code>int64</code></li>
<li><code>uint64</code></li>
<li><code>decimal</code></li>
<li><code>bigint</code></li>
</ul>
<p>If you want to use them, you can add them to the <code>ExtraCoders</code> object.</p>
<pre class="language-fs"><code class="language-fs"><span class="token keyword">let</span> myExtra <span class="token operator">=</span>
    Extra<span class="token punctuation">.</span>empty
    <span class="token operator">|></span> Extra<span class="token punctuation">.</span>withInt64
    <span class="token operator">|></span> Extra<span class="token punctuation">.</span>withUInt64
    <span class="token operator">|></span> Extra<span class="token punctuation">.</span>withDecimal
    <span class="token operator">|></span> Extra<span class="token punctuation">.</span>withBigInt

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">86UL</span><span class="token punctuation">,</span> extra <span class="token operator">=</span> myExtra<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// "86"</span></code></pre>
<h2 id="Primitives" tabindex="-1">Primitives <a class="header-anchor" href="#Primitives">#</a></h2>
<p>By default, primitives are represented the same way as they are when using the Manual API.</p>
<p>See <a href="/Thoth.Json/documentation/manual/json-representation.html#numbers">Manual API - JSON representation - Numbers</a> for more information.</p>
<p>If the default is not what you want, you can override them by using the <code>extra</code> argument.</p>
<pre class="language-fs"><code class="language-fs"><span class="token keyword">let</span> customIntEncoder <span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token class-name">int</span><span class="token punctuation">)</span> <span class="token operator">=</span>
    Encode<span class="token punctuation">.</span><span class="token keyword">object</span>
        <span class="token punctuation">[</span>
            <span class="token string">"type"</span><span class="token punctuation">,</span> Encode<span class="token punctuation">.</span>string <span class="token string">"customInt"</span>
            <span class="token string">"value"</span><span class="token punctuation">,</span> Encode<span class="token punctuation">.</span>int value
        <span class="token punctuation">]</span>

<span class="token keyword">let</span> customIntDecoder <span class="token operator">=</span>
    Decode<span class="token punctuation">.</span>field <span class="token string">"type"</span> Decode<span class="token punctuation">.</span>string
    <span class="token operator">|></span> Decode<span class="token punctuation">.</span>andThen <span class="token punctuation">(</span>
        <span class="token keyword">function</span>
        <span class="token operator">|</span> <span class="token string">"customInt"</span> <span class="token operator">-></span> Decode<span class="token punctuation">.</span>field <span class="token string">"value"</span> Decode<span class="token punctuation">.</span>int

        <span class="token operator">|</span> _ <span class="token operator">-></span> Decode<span class="token punctuation">.</span>fail <span class="token string">"Invalid type for customInt"</span>
    <span class="token punctuation">)</span>

<span class="token keyword">let</span> extra <span class="token operator">=</span> Extra<span class="token punctuation">.</span>empty <span class="token operator">|></span> Extra<span class="token punctuation">.</span>withCustom customIntEncoder customIntDecoder

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> extra <span class="token operator">=</span> extra<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// {</span>
<span class="token comment">//     "type": "customInt",</span>
<span class="token comment">//     "value": 42</span>
<span class="token comment">// }</span></code></pre>
<h2 id="Records" tabindex="-1">Records <a class="header-anchor" href="#Records">#</a></h2>
<p>Records are represented as JSON objects.</p>
<pre class="language-fs"><code class="language-fs"><span class="token keyword">type</span> <span class="token class-name">User</span> <span class="token operator">=</span>
    <span class="token punctuation">{</span>
        Name<span class="token punctuation">:</span> <span class="token class-name">string</span>
        Age<span class="token punctuation">:</span> <span class="token class-name">int</span>
    <span class="token punctuation">}</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span>
    <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"Geralt de Riv"</span>
        Age <span class="token operator">=</span> <span class="token number">92</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// {</span>
<span class="token comment">//     "Name": "Geralt de Riv",</span>
<span class="token comment">//     "Age": 92</span>
<span class="token comment">// }</span></code></pre>
<h2 id="Tuple-with-no-arguments" tabindex="-1">Tuple with no arguments <a class="header-anchor" href="#Tuple-with-no-arguments">#</a></h2>
<p>Tuple without arguments are represented as a string containing the case name:</p>
<article class="message is-info"><div class="message-body"><p>The case name respect the <code>CompiledName</code> attributes if provided.</p>
</div>
</article>
<pre class="language-fs"><code class="language-fs"><span class="token annotation"><span class="token punctuation">[&lt;</span><span class="token class-name">RequireQualifiedAccess</span><span class="token punctuation">>]</span></span>
<span class="token keyword">type</span> <span class="token class-name">Language</span> <span class="token operator">=</span>
    <span class="token operator">|</span> FSharp
    <span class="token operator">|</span> <span class="token annotation"><span class="token punctuation">[&lt;</span><span class="token class-name">CompiledName</span><span class="token annotation-content"><span class="token punctuation">(</span><span class="token string">"C#"</span><span class="token punctuation">)</span></span><span class="token punctuation">>]</span></span> CSharp

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> Language<span class="token punctuation">.</span>FSharp<span class="token punctuation">)</span>

<span class="token comment">// Returns: "FSharp"</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> Language<span class="token punctuation">.</span>CSharp<span class="token punctuation">)</span>

<span class="token comment">// Returns: "C#"</span></code></pre>
<h2 id="Tuple-with-arguments" tabindex="-1">Tuple with arguments <a class="header-anchor" href="#Tuple-with-arguments">#</a></h2>
<p>Tuples are represented using JSON arrays where the first elements is the name
of the case followed by as much elements as the tuple arguments.</p>
<pre class="language-fs"><code class="language-fs"><span class="token keyword">type</span> <span class="token class-name">MenuElement</span> <span class="token operator">=</span>
    <span class="token operator">|</span> Label <span class="token keyword">of</span> label<span class="token punctuation">:</span> <span class="token class-name">string</span>
    <span class="token operator">|</span> ExternalLink <span class="token keyword">of</span> label<span class="token punctuation">:</span> <span class="token class-name">string</span> <span class="token operator">*</span> url<span class="token punctuation">:</span> <span class="token class-name">string</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> Label <span class="token string">"Introduction"</span><span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// [</span>
<span class="token comment">//     "Label",</span>
<span class="token comment">//     "Introduction"</span>
<span class="token comment">// ]</span>

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token function">ExternalLink</span><span class="token punctuation">(</span>label <span class="token operator">=</span> <span class="token string">"Fable"</span><span class="token punctuation">,</span> url <span class="token operator">=</span> <span class="token string">"http://fable.io"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// [</span>
<span class="token comment">//     "ExternalLink",</span>
<span class="token comment">//     "Fable",</span>
<span class="token comment">//     "http://fable.io"</span>
<span class="token comment">// ]</span></code></pre>
<h2 id="Option-type" tabindex="-1">Option type <a class="header-anchor" href="#Option-type">#</a></h2>
<p>In current version of Thoth.Json the option type are erased.</p>
<p>This means that:</p>
<ul>
<li><code>Some 42</code> is encoded as <code>42</code>.</li>
<li><code>None</code> is encoded as <code>null</code>.</li>
</ul>
<article class="message is-warning"><div class="message-body"><p>This means that nested option types support is limited.</p>
<p>If you have a nested option like <code>(int option) option</code>.</p>
<p>Then you can't differentiate if <code>42</code> is for <code>Some 42</code> and <code>Some (Some 42)</code>.</p>
<p>The same goes for <code>null</code> and <code>Some None</code> or <code>None </code>.</p>
</div>
</article>
<h2 id="Class" tabindex="-1">Class <a class="header-anchor" href="#Class">#</a></h2>
<p>Classes support need to be added case by case via the <code>extra</code> argument.</p>
<p>This is because Fable offer a limited reflection API and classes are not supported.</p>
<pre class="language-fs"><code class="language-fs"><span class="token keyword">type</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token class-name">int</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token class-name">int</span><span class="token punctuation">)</span> <span class="token operator">=</span>

    <span class="token keyword">member</span> __<span class="token punctuation">.</span>x <span class="token operator">=</span> x

    <span class="token keyword">member</span> __<span class="token punctuation">.</span>y <span class="token operator">=</span> y

<span class="token keyword">module</span> Point <span class="token operator">=</span>

    <span class="token keyword">let</span> decoder<span class="token punctuation">:</span> <span class="token class-name">Decoder</span><span class="token operator">&lt;</span>Point<span class="token operator">></span> <span class="token operator">=</span>
        Decode<span class="token punctuation">.</span><span class="token keyword">object</span> <span class="token punctuation">(</span><span class="token keyword">fun</span> get <span class="token operator">-></span>
            <span class="token function">Point</span><span class="token punctuation">(</span>
                get<span class="token punctuation">.</span>Required<span class="token punctuation">.</span>Field <span class="token string">"x"</span> Decode<span class="token punctuation">.</span>int<span class="token punctuation">,</span>
                get<span class="token punctuation">.</span>Required<span class="token punctuation">.</span>Field <span class="token string">"y"</span> Decode<span class="token punctuation">.</span>int
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>

    <span class="token keyword">let</span> encoder <span class="token punctuation">(</span>point<span class="token punctuation">:</span> <span class="token class-name">Point</span><span class="token punctuation">)</span> <span class="token operator">=</span>
        Encode<span class="token punctuation">.</span><span class="token keyword">object</span>
            <span class="token punctuation">[</span>
                <span class="token string">"x"</span><span class="token punctuation">,</span> Encode<span class="token punctuation">.</span>int point<span class="token punctuation">.</span>x
                <span class="token string">"y"</span><span class="token punctuation">,</span> Encode<span class="token punctuation">.</span>int point<span class="token punctuation">.</span>y
            <span class="token punctuation">]</span>

<span class="token keyword">let</span> myExtra2 <span class="token operator">=</span> Extra<span class="token punctuation">.</span>empty <span class="token operator">|></span> Extra<span class="token punctuation">.</span>withCustom Point<span class="token punctuation">.</span>encoder Point<span class="token punctuation">.</span>decoder

Encode<span class="token punctuation">.</span>Auto<span class="token punctuation">.</span>toString <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> extra <span class="token operator">=</span> myExtra2<span class="token punctuation">)</span>

<span class="token comment">// Returns:</span>
<span class="token comment">// [</span>
<span class="token comment">//     {</span>
<span class="token comment">//         "x": 1,</span>
<span class="token comment">//         "y": 2</span>
<span class="token comment">//     },</span>
<span class="token comment">//     {</span>
<span class="token comment">//         "x": 3,</span>
<span class="token comment">//         "y": 4</span>
<span class="token comment">//     }</span>
<span class="token comment">// ]</span></code></pre>

                        </div>

                        <div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="//documentation/auto/caching.html"><i>←</i><span class="is-hidden-mobile"><em>Auto API</em><strong>Cache</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="//documentation/advanced/introduction.html"><span class="is-hidden-mobile"><em>Advanced</em><strong>Introduction</strong></span><i>→</i></a></div>


                    </section>

                </div>
            </div>

        </div>

    </div>


        
            



    <footer class="footer">
        <div class="is-size-5">
            
            
                <div class="sitemap">
                    
                        
                        <div class="sitemap-section">
                            <div class="sitemap-section-title">
                                Project ressources
                            </div>
                            <ul class="sitemap-section-list">
                                
                                    <li>
                                        <a href="https://github.com/mangelmaxime/eleventy-layout-nacara/" class="icon-text sitemap-section-list-item">
                                            
                                            
                                                <span class="icon">
                                                    <svg class="lucide lucide-file-code" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
  <polyline points="14 2 14 8 20 8"></polyline>
  <path d="m10 13-2 2 2 2"></path>
  <path d="m14 17 2-2-2-2"></path>
</svg>
                                                </span>
                                            
                                            <span class="sitemap-section-list-item-text">
                                                Repository
                                            </span>
                                        </a>
                                    </li>
                                
                                    <li>
                                        <a href="https://github.com/MangelMaxime/eleventy-layout-nacara/blob/main/LICENSE.md" class="icon-text sitemap-section-list-item">
                                            
                                            
                                                <span class="icon">
                                                    <svg class="lucide lucide-copyright" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <circle cx="12" cy="12" r="10"></circle>
  <path d="M14.83 14.83a4 4 0 1 1 0-5.66"></path>
</svg>
                                                </span>
                                            
                                            <span class="sitemap-section-list-item-text">
                                                License
                                            </span>
                                        </a>
                                    </li>
                                
                            </ul>
                        </div>
                    
                        
                        <div class="sitemap-section">
                            <div class="sitemap-section-title">
                                Social
                            </div>
                            <ul class="sitemap-section-list">
                                
                                    <li>
                                        <a href="https://twitter.com/MangelMaxime" class="icon-text sitemap-section-list-item">
                                            
                                            
                                                <span class="icon">
                                                    <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><title>Twitter</title><path d="M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148 13.98 13.98 0 0 0 11.82 8.292a4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z"></path></svg>
                                                </span>
                                            
                                            <span class="sitemap-section-list-item-text">
                                                Twitter
                                            </span>
                                        </a>
                                    </li>
                                
                                    <li>
                                        <a href="https://www.patreon.com/MangelMaxime" class="icon-text sitemap-section-list-item">
                                            
                                            
                                                <span class="icon">
                                                    <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><title>Patreon</title><path d="M22.957 7.21c-.004-3.064-2.391-5.576-5.191-6.482-3.478-1.125-8.064-.962-11.384.604C2.357 3.231 1.093 7.391 1.046 11.54c-.039 3.411.302 12.396 5.369 12.46 3.765.047 4.326-4.804 6.068-7.141 1.24-1.662 2.836-2.132 4.801-2.618 3.376-.836 5.678-3.501 5.673-7.031Z"></path></svg>
                                                </span>
                                            
                                            <span class="sitemap-section-list-item-text">
                                                Patreon
                                            </span>
                                        </a>
                                    </li>
                                
                            </ul>
                        </div>
                    
                </div>
            

            
            
                <p class="has-text-centered">
                    Built with <a class="is-underlined" href="https://github.com/mangelmaxime/eleventy-layout-nacara/">eleventy-layout-nacara</a>
                </p>
            

            
            
                <p class="has-text-centered">
                    Copyright ©
                    2021-<span id="copyright-end-year"></span>
                    
                </p>

                
                <script type="text/javascript">
                    // Use IIFE to avoid polluting the global scope
                    // This also avoid conflict because of `const year` on the components/footer page
                    (function () {
                        const year = new Date().getFullYear();
                        document
                            .getElementById('copyright-end-year')
                            .innerHTML = year;
                    })();
                </script>
            
        </div>
    </footer>


        

        
            
            <script src="/assets/nacara/js/copyButton.js?hash=1a5e987c54" defer="defer" type="module"></script>
        
    </body>

</html>
